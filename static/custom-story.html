<!DOCTYPE html>
<html>

<head>
    <title>MikuMikuLoader Custom Story Builder</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body style="background-color: #33939c">
    <a id="downloadAnchorElem" style="display:none"></a>

    <h1 style="color: #f9c5ff;">Create Custom Story</h1>
    <h2 style="color: #f9c5ff; margin-top: -1%;"><a style="text-decoration: none;" href="/">Home</a></h2>
    <div id="main-text">
        <br><br>
        <label for="file-selector" style="font-size: 22px;">Import MikuMikuLoaderStory file (json)</label><br>
        <input type="file" id="file-selector">
        <br><br>
        <h2 style="text-align: center">Add story scenes</h2>
        <button id="add-scene-btn">Add Scene</button><br><br>
        <div class="scrollmenu" id="scrollmenu">
            <div id="scene-container-INDEX" style="display: none;">
                <div id="modal-INDEX" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <form id="form-INDEX">
                            <p>Enter the scene JSON from SEKAI-Stories
                            </p>
                            <textarea oninput="auto_grow(this)" type="text" id="json-INDEX" cols="65" rows="20"
                                placeholder="JSON goes here..."></textarea>
                            <br><br>
                            <button id="submit-INDEX">Save</button>
                            <button id="remove-INDEX">Delete scene</button>
                            <br><button id="reorder-INDEX">Set new
                                index</button>
                        </form>
                    </div>
                </div>
                <button id="scene-INDEX">Scene 1<br>Click to add Sekai Stories JSON</button>
            </div>
        </div>
        <br>
        <input type="text" id="storyfile" value="CustomStory.json">
        <button id="submit-scenes">Save scenes to JSON file</button>
        <br>
        <input type="text" id="modpackfile" value="CustomStory.toml">
        <br>
        <input type="text" id="modpackname" value="Custom Story Name">
        <br><br>
        <input type="file" id="story-banner"
            accept=".avif,.bmp,.dds,.exr,.ff,.hdr,.ico,.jpeg,.png,.pnm,.qoi,.tga,.tiff,.webp">
        <label for="story-banner" style="font-size: 22px;">Select story banner image</label>
        <p style="margin-top: -5px; margin-bottom: -5px;">488px by 208px</p><br>

        <input type="file" id="story-bg"
            accept=".avif,.bmp,.dds,.exr,.ff,.hdr,.ico,.jpeg,.png,.pnm,.qoi,.tga,.tiff,.webp">
        <label for="story-bg" style="font-size: 22px;">Select story background image</label><br>
        <p style="margin-top: -5px; margin-bottom: -5px;">2520px by 1440px</p><br>

        <input type="file" id="story-title-bg"
            accept=".avif,.bmp,.dds,.exr,.ff,.hdr,.ico,.jpeg,.png,.pnm,.qoi,.tga,.tiff,.webp">
        <label for="story-title-bg" style="font-size: 22px;">Select story title background image</label><br>
        <p style="margin-top: -5px; margin-bottom: -5px;">2104px by 1440px</p><br>

        <input type="file" id="logo" accept=".avif,.bmp,.dds,.exr,.ff,.hdr,.ico,.jpeg,.png,.pnm,.qoi,.tga,.tiff,.webp">
        <label for="logo" style="font-size: 22px;">Select story logo</label><br>
        <p style="margin-top: -5px; margin-bottom: -5px;">600px by 300px</p><br>
        <br>
        <p style="color: orange; font-size: 20px;">If you set any custom images, AssetBundle generation could take a
            very
            long time (as of right now)! (~3m).
            Please keep an eye on the program logs to check for crashes!<br>You will get an popup on success.</p>
        <button id="generate-mod">Generate and export mod from scenes</button>
    </div>

    <script src="/js/custom-story.js"></script>

</body>